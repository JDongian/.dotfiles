# NixOS Configuration

My personal NixOS configuration using flakes and home-manager.

## Structure

```
.
├── flake.nix               # Flake configuration with inputs and outputs
├── flake.lock              # Locked flake dependencies
├── configuration.nix       # Main system configuration
├── home.nix               # Home-manager configuration for user joshua
├── hosts/                 # Host-specific configurations
│   └── tile/              # ThinkPad T490s configuration
│       ├── default.nix
│       ├── hardware-configuration.nix
│       └── hardware.nix
├── dotfiles/              # Application dotfiles
│   ├── bashrc
│   ├── foot/
│   ├── fuzzel/
│   ├── hypr/
│   ├── nvim/
│   ├── starship.toml
│   ├── tmux/
│   └── waybar/
└── overlays/              # Custom package overlays
    └── code-cursor-latest.nix
```

## Features

- Flake-based configuration for reproducibility
- Home-manager integration for user-level package and dotfile management
- Hyprland Wayland compositor setup
- Multi-host support (currently: tile)
- Custom overlays for packages not in nixpkgs

## Usage

### Building the system

```bash
sudo nixos-rebuild switch --flake .#tile
```

### Updating packages

```bash
nix flake update
sudo nixos-rebuild switch --flake .#tile
```

### Adding a new host

1. Create a new directory under `hosts/` for the new machine
2. Add hardware-configuration.nix (generated by nixos-generate-config)
3. Create default.nix and any host-specific configuration files
4. Add the host to flake.nix outputs

## Current Host

**tile** - ThinkPad T490s running NixOS unstable with Hyprland

## Inspirations

- [bbigras/nix-config](https://github.com/bbigras/nix-config)
